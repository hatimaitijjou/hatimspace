<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HATIM SPACE OS | The Notion Killer</title>
    <!-- Ø®Ø·ÙˆØ· Ø¹Ø±Ø¨ÙŠØ© ÙˆØ£ÙŠÙ‚ÙˆÙ†Ø§Øª -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        :root {
            --primary: #00ff88;
            --accent: #00d4ff;
            --purple: #bc13fe;
            --bg-dark: #050509;
            --panel: rgba(20, 20, 25, 0.7);
            --border: rgba(255, 255, 255, 0.1);
            --text-main: #ececf1;
            --text-muted: #8e8ea0;
            --glass: blur(20px) saturate(180%);
        }

        * { box-sizing: border-box; outline: none; }
        
        body, html {
            margin: 0; padding: 0;
            height: 100vh;
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-main);
            overflow: hidden;
        }

        /* --- Ø®Ù„ÙÙŠØ© Ø§Ù„ÙƒÙˆÙ† Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© --- */
        #universe {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: radial-gradient(circle at 50% 50%, #1a1a2e 0%, #000 100%);
            overflow: hidden;
        }
        .orb {
            position: absolute; border-radius: 50%;
            filter: blur(80px); opacity: 0.4;
            animation: float 20s infinite alternate;
        }
        @keyframes float { 0% { transform: translate(0,0); } 100% { transform: translate(50px, 50px); } }

        /* --- Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ© --- */
        #login-gate {
            position: fixed; inset: 0; z-index: 9999;
            display: flex; justify-content: center; align-items: center;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(30px);
            transition: opacity 0.8s ease;
        }
        .gate-card {
            width: 500px; padding: 60px;
            background: rgba(255,255,255,0.03);
            border: 1px solid var(--border);
            border-radius: 24px;
            text-align: center;
            box-shadow: 0 0 100px rgba(0, 255, 136, 0.15);
            position: relative; overflow: hidden;
        }
        .gate-card::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--accent), var(--purple));
        }
        .h-logo {
            font-size: 4rem; font-weight: 900; margin: 0;
            background: linear-gradient(135deg, #fff 30%, var(--primary));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            letter-spacing: -2px;
        }
        .h-sub { color: var(--text-muted); margin-bottom: 40px; font-size: 1.1rem; }
        
        .input-group { position: relative; margin-bottom: 25px; }
        .input-group i { position: absolute; top: 50%; right: 20px; transform: translateY(-50%); color: var(--primary); }
        .gate-input {
            width: 100%; padding: 18px 50px 18px 20px;
            background: rgba(0,0,0,0.5); border: 1px solid #333;
            border-radius: 12px; color: white; font-size: 1.1rem;
            transition: 0.3s;
        }
        .gate-input:focus { border-color: var(--primary); box-shadow: 0 0 20px rgba(0,255,136,0.2); }
        
        .gate-btn {
            width: 100%; padding: 18px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border: none; border-radius: 12px;
            color: black; font-weight: 800; font-size: 1.2rem;
            cursor: pointer; transition: 0.3s; position: relative; overflow: hidden;
        }
        .gate-btn:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,255,136,0.3); }

        /* --- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù†Ø¸Ø§Ù… --- */
        #os-interface { display: none; height: 100vh; flex-direction: row; opacity: 0; transition: opacity 1s; }
        
        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .sidebar {
            width: 280px; background: var(--panel);
            border-left: 1px solid var(--border);
            display: flex; flex-direction: column;
            padding: 20px;
            backdrop-filter: blur(40px);
        }
        .user-profile {
            display: flex; align-items: center; gap: 15px;
            padding-bottom: 20px; border-bottom: 1px solid var(--border);
            margin-bottom: 20px;
        }
        .avatar {
            width: 45px; height: 45px; border-radius: 12px;
            background: linear-gradient(45deg, var(--primary), var(--purple));
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; color: black; font-size: 1.2rem;
        }
        .menu-item {
            padding: 12px; border-radius: 8px;
            color: var(--text-muted); cursor: pointer;
            display: flex; align-items: center; gap: 10px;
            transition: 0.2s; font-size: 0.95rem;
        }
        .menu-item:hover, .menu-item.active {
            background: rgba(255,255,255,0.05); color: white;
        }
        .menu-item i { width: 20px; text-align: center; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .main-stage {
            flex: 1; display: flex; flex-direction: column;
            position: relative;
            background: rgba(0,0,0,0.2);
        }

        .header {
            padding: 20px 40px; display: flex; justify-content: space-between; align-items: center;
        }
        .page-title {
            font-size: 2.5rem; font-weight: 800; border: none; background: transparent;
            color: white; width: 100%;
        }
        .status-badge {
            background: rgba(0,255,136,0.1); color: var(--primary);
            padding: 5px 15px; border-radius: 20px; font-size: 0.8rem;
            border: 1px solid rgba(0,255,136,0.2);
        }

        /* Ø§Ù„Ù…Ø­Ø±Ø± Ø§Ù„Ø´Ø¨ÙŠÙ‡ Ø¨Ù€ Notion */
        .editor-container {
            flex: 1; padding: 0 15% 50px 15%;
            overflow-y: auto; scroll-behavior: smooth;
        }
        
        .block {
            position: relative; padding: 5px 10px;
            margin-bottom: 8px; border-radius: 6px;
            transition: background 0.2s;
            line-height: 1.6;
        }
        .block:hover { background: rgba(255,255,255,0.02); }
        .block:focus { background: rgba(255,255,255,0.04); }
        
        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ø§Ø¦Ù…Ø© (Slash Menu) */
        #slash-cmd {
            position: absolute; width: 220px;
            background: #1a1a1a; border: 1px solid #333;
            border-radius: 12px; box-shadow: 0 10px 40px rgba(0,0,0,0.5);
            display: none; z-index: 100; overflow: hidden;
            animation: slideUp 0.2s ease;
        }
        @keyframes slideUp { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }
        
        .cmd-item {
            padding: 10px 15px; cursor: pointer; display: flex; align-items: center; gap: 12px;
            color: #ccc; border-bottom: 1px solid #222;
        }
        .cmd-item:hover { background: var(--primary); color: black; }
        .cmd-item i { font-size: 1.1rem; }

        /* Ù…ÙƒÙˆÙ†Ø§Øª Ø®Ø§ØµØ© */
        .kanban-board {
            display: flex; gap: 15px; overflow-x: auto; padding: 20px 0;
        }
        .kanban-col {
            min-width: 250px; background: #111; border-radius: 8px; padding: 15px;
            border: 1px solid #333;
        }
        .k-card {
            background: #222; padding: 10px; margin-bottom: 10px; border-radius: 6px;
            cursor: grab; border: 1px solid #444; font-size: 0.9rem;
        }
        
        .todo-item { display: flex; align-items: center; gap: 10px; }
        .todo-check { accent-color: var(--primary); width: 18px; height: 18px; cursor: pointer; }
        .todo-checked { text-decoration: line-through; color: var(--text-muted); }

        /* Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ */
        .ai-panel {
            width: 300px; background: var(--panel);
            border-right: 1px solid var(--border);
            display: flex; flex-direction: column;
            transform: translateX(100%);
            position: absolute; right: 0; top: 0; bottom: 0;
            transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(40px); z-index: 50;
        }
        .ai-panel.open { transform: translateX(0); }
        .ai-header { padding: 20px; border-bottom: 1px solid #333; display: flex; justify-content: space-between; align-items: center; }
        .chat-area { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
        
        .msg { padding: 12px; border-radius: 12px; font-size: 0.9rem; line-height: 1.5; max-width: 90%; }
        .msg.user { background: #333; align-self: flex-start; color: white; border-bottom-right-radius: 2px; }
        .msg.ai { background: rgba(0, 255, 136, 0.15); border: 1px solid var(--primary); align-self: flex-end; color: #fff; border-bottom-left-radius: 2px; }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--primary); }

        /* Notification */
        #toast {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            background: var(--primary); color: black; padding: 10px 25px;
            border-radius: 30px; font-weight: bold; opacity: 0; transition: 0.5s;
            pointer-events: none; box-shadow: 0 5px 20px rgba(0,255,136,0.4);
        }

    </style>
</head>
<body>

    <!-- Ø®Ù„ÙÙŠØ© -->
    <div id="universe">
        <div class="orb" style="width: 400px; height: 400px; background: var(--primary); top: -100px; left: -100px;"></div>
        <div class="orb" style="width: 300px; height: 300px; background: var(--purple); bottom: -50px; right: -50px;"></div>
    </div>

    <!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div id="login-gate">
        <div class="gate-card">
            <h1 class="h-logo">HATIM OS</h1>
            <p class="h-sub">Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒÙˆÙ†ÙŠ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø­ÙŠØ§ØªÙƒ</p>
            
            <div class="input-group">
                <i class="fas fa-user-astronaut"></i>
                <input type="text" id="username" class="gate-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù‚Ø§Ø¦Ø¯..." autocomplete="off">
            </div>
            
            <button class="gate-btn" onclick="enterSystem()">Ø¥Ø·Ù„Ø§Ù‚ Ø§Ù„Ù†Ø¸Ø§Ù… <i class="fas fa-rocket" style="margin-right:10px;"></i></button>
        </div>
    </div>

    <!-- Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div id="os-interface">
        
        <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
        <nav class="sidebar">
            <div class="user-profile">
                <div class="avatar" id="u-initial">H</div>
                <div>
                    <div style="font-weight:bold; font-size:1.1rem;" id="u-name-disp">Hatim</div>
                    <div style="font-size:0.8rem; color:var(--primary);">Ù†Ø³Ø®Ø© Ø§Ù„Ø¨Ø±Ùˆ âš¡</div>
                </div>
            </div>

            <div class="menu-item active" onclick="loadPage('home')"><i class="fas fa-home"></i> Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
            <div class="menu-item" onclick="loadPage('second-brain')"><i class="fas fa-brain"></i> Ø§Ù„Ø¹Ù‚Ù„ Ø§Ù„Ø«Ø§Ù†ÙŠ</div>
            <div class="menu-item" onclick="loadPage('projects')"><i class="fas fa-tasks"></i> Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</div>
            <div style="margin-top: auto; border-top: 1px solid #333; padding-top: 20px;">
                <div class="menu-item" onclick="toggleAI()"><i class="fas fa-robot" style="color:var(--accent)"></i> Ù…Ø³Ø§Ø¹Ø¯ Ø­Ø§ØªÙ… Ø§Ù„Ø°ÙƒÙŠ</div>
                <div class="menu-item" onclick="saveWork()"><i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø¹Ù…Ù„ ÙŠØ¯ÙˆÙŠØ§Ù‹</div>
            </div>
        </nav>

        <!-- Ø§Ù„Ù…Ø­Ø±Ø± -->
        <main class="main-stage">
            <div class="header">
                <div class="status-badge"><i class="fas fa-check-circle"></i> ØªÙ… Ø§Ù„Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</div>
                <div>
                    <button class="gate-btn" style="padding: 8px 20px; font-size:0.9rem; width:auto;" onclick="exportDoc()">ØªØµØ¯ÙŠØ± HTML</button>
                </div>
            </div>

            <div class="editor-container" id="editor">
                <input type="text" class="page-title" value="Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ø³Ø§Ø­ØªÙƒ Ø§Ù„Ø®Ø§ØµØ© ğŸš€" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø©...">
                <!-- Ø§Ù„ÙƒØªÙ„ ØªØ¨Ø¯Ø£ Ù‡Ù†Ø§ -->
                <div class="block" contenteditable="true" placeholder="Ø§ÙƒØªØ¨ '/' Ù„Ù„Ø£ÙˆØ§Ù…Ø±...">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ ÙˆØ§Ø¨Ø¯Ø£ Ø§Ù„ÙƒØªØ§Ø¨Ø©...</div>
            </div>
        </main>

        <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ -->
        <aside class="ai-panel" id="ai-panel">
            <div class="ai-header">
                <span style="font-weight:bold; color:var(--accent)">ğŸ¤– Hatim AI Core</span>
                <i class="fas fa-times" style="cursor:pointer;" onclick="toggleAI()"></i>
            </div>
            <div class="chat-area" id="chat-feed">
                <div class="msg ai">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø£ÙŠÙ‡Ø§ Ø§Ù„Ù‚Ø§Ø¦Ø¯. Ø£Ù†Ø§ Ø¹Ù‚Ù„Ùƒ Ø§Ù„Ø±Ù‚Ù…ÙŠ. ÙƒÙŠÙ Ø£Ø³Ø§Ø¹Ø¯Ùƒ ÙÙŠ ØªÙ†Ø¸ÙŠÙ… Ø£ÙÙƒØ§Ø±Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŸ</div>
            </div>
            <div style="padding: 15px;">
                <input type="text" id="ai-input" class="gate-input" style="padding: 10px;" placeholder="Ø§Ø·Ù„Ø¨ Ù…Ù†ÙŠ Ø´ÙŠØ¦Ø§Ù‹..." onkeypress="if(event.key==='Enter') sendAI()">
            </div>
        </aside>

    </div>

    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ù„Ø§Ø´ -->
    <div id="slash-cmd">
        <div class="cmd-item" onclick="addBlock('h1')"><i class="fas fa-heading"></i> Ø¹Ù†ÙˆØ§Ù† ÙƒØ¨ÙŠØ±</div>
        <div class="cmd-item" onclick="addBlock('h2')"><i class="fas fa-heading" style="font-size:0.9rem"></i> Ø¹Ù†ÙˆØ§Ù† Ù…ØªÙˆØ³Ø·</div>
        <div class="cmd-item" onclick="addBlock('todo')"><i class="fas fa-check-square"></i> Ù‚Ø§Ø¦Ù…Ø© Ù…Ù‡Ø§Ù…</div>
        <div class="cmd-item" onclick="addBlock('code')"><i class="fas fa-code"></i> ÙƒÙˆØ¯ Ø¨Ø±Ù…Ø¬ÙŠ</div>
        <div class="cmd-item" onclick="addBlock('kanban')"><i class="fas fa-columns"></i> Ù„ÙˆØ­Ø© ÙƒØ§Ù†Ø¨Ø§Ù†</div>
        <div class="cmd-item" onclick="addBlock('callout')"><i class="fas fa-lightbulb"></i> Ù…Ù„Ø§Ø­Ø¸Ø© Ù…Ù…ÙŠØ²Ø©</div>
    </div>

    <div id="toast">ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­! ğŸ’¾</div>

    <script>
        // --- 1. System Core ---
        let currentUser = localStorage.getItem('hatim_user') || '';
        
        function enterSystem() {
            const input = document.getElementById('username');
            if(!input.value) return;
            currentUser = input.value;
            localStorage.setItem('hatim_user', currentUser);
            
            document.getElementById('u-name-disp').innerText = currentUser;
            document.getElementById('u-initial').innerText = currentUser.charAt(0).toUpperCase();
            
            // Animation
            const gate = document.getElementById('login-gate');
            gate.style.opacity = '0';
            setTimeout(() => {
                gate.style.display = 'none';
                const os = document.getElementById('os-interface');
                os.style.display = 'flex';
                // Trigger reflow
                void os.offsetWidth;
                os.style.opacity = '1';
                loadWork();
            }, 800);
        }

        // --- 2. Editor Logic (The Notion Feel) ---
        const editor = document.getElementById('editor');
        const slashMenu = document.getElementById('slash-cmd');
        let currentBlock = null;

        // Auto Save Loop
        setInterval(() => {
            saveWork(true);
        }, 5000);

        editor.addEventListener('keyup', (e) => {
            if (e.key === '/') {
                const sel = window.getSelection();
                if(sel.rangeCount > 0) {
                    const range = sel.getRangeAt(0);
                    const rect = range.getBoundingClientRect();
                    currentBlock = e.target;
                    showSlashMenu(rect.left, rect.bottom + 10);
                }
            } else {
                slashMenu.style.display = 'none';
            }
            
            if (e.key === 'Enter') {
                e.preventDefault();
                // Create new block instead of div
                document.execCommand('insertHTML', false, '<div class="block" contenteditable="true"></div>');
            }
        });

        function showSlashMenu(x, y) {
            slashMenu.style.left = x + 'px';
            slashMenu.style.top = y + 'px';
            slashMenu.style.display = 'block';
        }

        function addBlock(type) {
            slashMenu.style.display = 'none';
            // Remove the '/'
            document.execCommand('delete');

            let html = '';
            switch(type) {
                case 'h1': html = '<h1 class="block" contenteditable="true">Ø¹Ù†ÙˆØ§Ù† Ø±Ø¦ÙŠØ³ÙŠ</h1>'; break;
                case 'h2': html = '<h2 class="block" contenteditable="true">Ø¹Ù†ÙˆØ§Ù† ÙØ±Ø¹ÙŠ</h2>'; break;
                case 'todo': html = '<div class="block todo-item" contenteditable="false"><input type="checkbox" class="todo-check" onclick="toggleTodo(this)"><span contenteditable="true">Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©</span></div>'; break;
                case 'code': html = '<div class="block" style="background:#222; font-family:monospace; padding:15px; border-radius:8px; color:#00ff88;" contenteditable="true">// Ø§ÙƒØªØ¨ Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§...</div>'; break;
                case 'callout': html = '<div class="block" style="background:rgba(0,212,255,0.1); border-left:4px solid var(--accent); padding:15px;" contenteditable="true">ğŸ’¡ ÙÙƒØ±Ø© Ø±Ø§Ø¦Ø¹Ø©...</div>'; break;
                case 'kanban': 
                    html = `
                    <div class="block kanban-board" contenteditable="false">
                        <div class="kanban-col">
                            <h4 style="margin-top:0; color:#888;">Ù„Ù„Ù‚ÙŠØ§Ù… Ø¨Ù‡</h4>
                            <div class="k-card" contenteditable="true">Ù…Ù‡Ù…Ø© 1</div>
                            <div class="k-card" contenteditable="true">Ù…Ù‡Ù…Ø© 2</div>
                        </div>
                        <div class="kanban-col">
                            <h4 style="margin-top:0; color:var(--accent);">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¹Ù…Ù„</h4>
                            <div class="k-card" contenteditable="true">ØªØ·ÙˆÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…</div>
                        </div>
                        <div class="kanban-col">
                            <h4 style="margin-top:0; color:var(--primary);">Ù…ÙƒØªÙ…Ù„</h4>
                            <div class="k-card" contenteditable="true">Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£ÙˆÙ„ÙŠ</div>
                        </div>
                    </div>`;
                    break;
            }
            
            if(html) document.execCommand('insertHTML', false, html);
        }

        function toggleTodo(cb) {
            const span = cb.nextElementSibling;
            if(cb.checked) span.classList.add('todo-checked');
            else span.classList.remove('todo-checked');
        }

        // --- 3. Persistence (Local Storage) ---
        function saveWork(silent = false) {
            const content = editor.innerHTML;
            localStorage.setItem('hatim_space_content', content);
            if(!silent) showToast();
        }

        function loadWork() {
            const saved = localStorage.getItem('hatim_space_content');
            if(saved) editor.innerHTML = saved;
            else if(currentUser) document.getElementById('username').value = currentUser;
        }

        function showToast() {
            const t = document.getElementById('toast');
            t.style.opacity = '1';
            t.style.bottom = '40px';
            setTimeout(() => {
                t.style.opacity = '0';
                t.style.bottom = '30px';
            }, 2000);
        }

        // --- 4. AI Engine Simulation ---
        function toggleAI() {
            document.getElementById('ai-panel').classList.toggle('open');
        }

        function sendAI() {
            const input = document.getElementById('ai-input');
            const feed = document.getElementById('chat-feed');
            const text = input.value;
            if(!text) return;

            // User msg
            feed.innerHTML += `<div class="msg user">${text}</div>`;
            input.value = '';
            feed.scrollTop = feed.scrollHeight;

            // AI Logic
            setTimeout(() => {
                const responses = [
                    "Ø£Ù‚ÙˆÙ… Ø¨ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ... ÙÙƒØ±Ø© Ù…Ù…ØªØ§Ø²Ø©!",
                    "Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ø¥Ø¶Ø§ÙØ© Ù‡Ø°Ø§ Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ù…Ù‡Ø§Ù…Ùƒ Ø§Ù„Ø°Ù‡Ù†ÙŠØ©.",
                    "Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ù†ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ Ø²Ù…Ù†ÙŠ Ù„Ù‡Ø°Ø§ØŸ",
                    "Ù†Ø¸Ø§Ù… Ø­Ø§ØªÙ… ÙŠÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.",
                    "Ø¬Ø§Ø±Ù ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙƒÙˆØ¯... ØªÙ… Ø¨Ù†Ø³Ø¨Ø© 100%."
                ];
                const reply = responses[Math.floor(Math.random() * responses.length)];
                
                // Typing effect
                const msgDiv = document.createElement('div');
                msgDiv.className = 'msg ai';
                feed.appendChild(msgDiv);
                
                let i = 0;
                const typer = setInterval(() => {
                    msgDiv.textContent += reply.charAt(i);
                    i++;
                    feed.scrollTop = feed.scrollHeight;
                    if(i >= reply.length) clearInterval(typer);
                }, 30);

            }, 800);
        }
        
        // Export
        function exportDoc() {
            const blob = new Blob([document.documentElement.outerHTML], {type: 'text/html'});
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'Hatim_Space_OS.html';
            a.click();
        }

        // Check login on load
        if(localStorage.getItem('hatim_user')) {
             document.getElementById('username').value = localStorage.getItem('hatim_user');
        }

    </script>
</body>
</html>
